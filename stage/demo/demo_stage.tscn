[gd_scene load_steps=9 format=4 uid="uid://kqkvasn678ry"]

[ext_resource type="Script" uid="uid://d22scmdflkulk" path="res://stage/demo/demo_stage.gd" id="1_3sebb"]
[ext_resource type="TileSet" uid="uid://c6jlxm4wokjti" path="res://stage/demo/tilemap/demo_floor.tres" id="2_ln17t"]
[ext_resource type="PackedScene" uid="uid://c37uogod3vrww" path="res://entity/sapper/sapper.tscn" id="2_w7nxb"]
[ext_resource type="TileSet" uid="uid://2d7hcthqc830" path="res://stage/demo/tilemap/demo_walls.tres" id="3_k46ji"]
[ext_resource type="TileSet" uid="uid://bjea5f63ldn35" path="res://stage/demo/tilemap/demo_acid.tres" id="3_ln17t"]
[ext_resource type="PackedScene" uid="uid://qb3w45t4vdnh" path="res://entity/gun/light/light_gun.tscn" id="4_4royo"]
[ext_resource type="Script" uid="uid://tf36ugicuoyh" path="res://stage/demo/demo_controls.gd" id="4_vte7o"]
[ext_resource type="TileSet" uid="uid://c1xug7auajvfn" path="res://stage/demo/tilemap/demo_dummies.tres" id="5_k46ji"]

[node name="DemoStage" type="Node2D"]
script = ExtResource("1_3sebb")

[node name="TileMapFloor" type="TileMapLayer" parent="."]
position = Vector2(-82, -12)
tile_map_data = PackedByteArray("AAD/////AwAAAAAAAAAAAP//AwADAAAAAAD//wAAAwAAAAMAAAAAAAAAAwADAAMAAAA=")
tile_set = ExtResource("2_ln17t")

[node name="TileMapAcid" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAEAAIAAAAAAAAAAgADAAIAAAAAAAAAAgADAAEAAAAAAAAAAgAEAAEAAAAAAAAAAgACAAMAAAAAAAAAAgADAAMAAAAAAAAAAgABAAMAAAAAAAAAAgAAAAQAAAAAAAAAAgABAAQAAAAAAAAAAgACAAQAAAAAAAAAAgA=")
tile_set = ExtResource("3_ln17t")

[node name="TileMapWalls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD7//z/AgAEAAAAAAD7//3/AgAAAAEAAAD7//7/AgAAAAEAAAD7////AgAAAAEAAAD7/wAAAgAAAAEAAAD7/wEAAgAAAAEAAAD7/wIAAgAAAAEAAAD7/wMAAgAAAAEAAAADAPz/AgACAAMAAAAEAPz/AgAGAAAAAAAEAP3/AgAAAAEAAAAEAP7/AgAAAAEAAAAEAP//AgAAAAEAAAAEAAAAAgAAAAEAAAAEAAEAAgAEAAIAAAAFAAEAAgAGAAAAAAAFAAIAAgAAAAEAAAAFAAMAAgAGAAIAAAAEAAMAAgAEAAAAAAAEAAQAAgAGAAIAAAADAAQAAgAEAAAAAAADAAUAAgAGAAIAAAACAAUAAgACAAMAAAABAAUAAgABAAMAAAD9//r/AgAAAAAAAAD9//v/AgAGAAIAAAD8//v/AgAEAAAAAAD8//z/AgAGAAIAAAAAAPr/AgAAAAAAAAAAAPv/AgAEAAIAAAABAPv/AgAGAAAAAAABAPz/AgAEAAIAAAACAPz/AgACAAMAAAD7/wQAAgAEAAIAAAD8/wQAAgAGAAAAAAD8/wUAAgAEAAIAAAD9/wUAAgADAAMAAAA=")
tile_set = ExtResource("3_k46ji")

[node name="TileMapDummies" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD9/wIAAAAAAAAAAQADAAIAAAAAAAAAAQADAAEAAAAAAAAAAQADAAAAAAAAAAAAAQADAP//AAAAAAAAAQA=")
tile_set = ExtResource("5_k46ji")

[node name="Sapper" parent="." instance=ExtResource("2_w7nxb")]
unique_name_in_owner = true

[node name="Camera2D" type="Camera2D" parent="Sapper"]
zoom = Vector2(8, 8)

[node name="LightGun" parent="Sapper" instance=ExtResource("4_4royo")]
unique_name_in_owner = true

[node name="DemoControls" type="Node2D" parent="."]
script = ExtResource("4_vte7o")

[node name="SpawnDummyTimer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[connection signal="is_moving_changed" from="DemoControls" to="." method="_on_demo_controls_is_moving_changed"]
[connection signal="move_direction_changed" from="DemoControls" to="." method="_on_demo_controls_move_direction_changed"]
[connection signal="pointer_click" from="DemoControls" to="." method="_on_demo_controls_pointer_click"]
[connection signal="pointer_position_changed" from="DemoControls" to="." method="_on_demo_controls_pointer_position_changed"]
[connection signal="roll_pressed" from="DemoControls" to="." method="_on_demo_controls_roll_pressed"]
[connection signal="timeout" from="SpawnDummyTimer" to="." method="_on_spawn_dummy_timer_timeout"]
