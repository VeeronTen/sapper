[gd_scene load_steps=10 format=4 uid="uid://kqkvasn678ry"]

[ext_resource type="Script" uid="uid://d22scmdflkulk" path="res://stage/demo/demo_stage.gd" id="1_3sebb"]
[ext_resource type="Texture2D" uid="uid://dskvu0ifsxjhx" path="res://addons/kenney_prototype_textures/dark/texture_07.png" id="1_vyskl"]
[ext_resource type="PackedScene" uid="uid://c37uogod3vrww" path="res://entity/sapper/sapper.tscn" id="2_w7nxb"]
[ext_resource type="PackedScene" uid="uid://qb3w45t4vdnh" path="res://entity/gun/light/light_gun.tscn" id="4_4royo"]
[ext_resource type="Script" uid="uid://tf36ugicuoyh" path="res://stage/demo/demo_controls.gd" id="4_vte7o"]
[ext_resource type="PackedScene" uid="uid://c7mytol7o1133" path="res://entity/dummy/dummy.tscn" id="6_fk4h2"]
[ext_resource type="PackedScene" uid="uid://c6gh6x8an7v0y" path="res://stage/demo/acid/demo_acid.tscn" id="7_8dtiy"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vyskl"]
resource_name = "demo_floor"
texture = ExtResource("1_vyskl")
texture_region_size = Vector2i(1024, 1024)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_w7nxb"]
tile_size = Vector2i(1024, 1024)
sources/0 = SubResource("TileSetAtlasSource_vyskl")

[node name="DemoStage" type="Node2D"]
script = ExtResource("1_3sebb")

[node name="DemoFloor" type="TileMapLayer" parent="."]
scale = Vector2(0.25, 0.25)
tile_map_data = PackedByteArray("AAD//wEAAAAAAAAAAAD//wAAAAAAAAAAAAD/////AAAAAAAAAAAAAP//AAAAAAAAAAABAP//AAAAAAAAAAACAP//AAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAACAAEAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAACAAAAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_w7nxb")

[node name="DemoAcid" parent="." instance=ExtResource("7_8dtiy")]
position = Vector2(70, 47)

[node name="Sapper" parent="." instance=ExtResource("2_w7nxb")]
unique_name_in_owner = true

[node name="Camera2D" type="Camera2D" parent="Sapper"]
zoom = Vector2(8, 8)

[node name="LightGun" parent="Sapper" instance=ExtResource("4_4royo")]
unique_name_in_owner = true

[node name="DemoControls" type="Node2D" parent="."]
script = ExtResource("4_vte7o")

[node name="Dummy" parent="." instance=ExtResource("6_fk4h2")]
position = Vector2(69, 32)

[node name="SpawnDummyTimer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[connection signal="is_moving_changed" from="DemoControls" to="." method="_on_demo_controls_is_moving_changed"]
[connection signal="move_direction_changed" from="DemoControls" to="." method="_on_demo_controls_move_direction_changed"]
[connection signal="pointer_click" from="DemoControls" to="." method="_on_demo_controls_pointer_click"]
[connection signal="pointer_position_changed" from="DemoControls" to="." method="_on_demo_controls_pointer_position_changed"]
[connection signal="timeout" from="SpawnDummyTimer" to="." method="_on_spawn_dummy_timer_timeout"]
